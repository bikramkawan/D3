<!DOCTYPE html>
<meta charset="utf-8">
<style>

    .a text {
        font: 10px sans-serif;
        text-anchor: middle;
    }

    .a path {
        stroke: #fff;
    }

</style>
<body>
<script src="//d3js.org/d3.v3.min.js"></script>
<script>

    var width = 960,
            height = 560,
            o_radius = 50;
    radiusincrease = 40;


    var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr('class', 'main')
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")


    a_data = ['A1', 'A2', 'A3', 'A4'];

    a_color = ['green', 'red', 'black', 'blue'];


    var origin = svg.append("circle").attr({
        cx: 0,
        cy: 0,
        r: o_radius,
        fill: "none",
        stroke: "blue"
    });


    var cat1 = svg.append("circle").attr({
        cx: 0,
        cy: 0,
        r: o_radius + radiusincrease,
        fill: "none",
        stroke: "blue"
    });
     var createElements = function (svg, nodes, elementRadius) {
    element = svg.selectAll('circle')
                        .data(nodes)
                      .enter().append('svg:circle')
                        .attr('r', elementRadius)
                        .attr('cx', function (d, i) {
                          return d.x;
                        })
                        .attr('cy', function (d, i) {
                          return d.y;
                        })
            .attr('stroke','red')
            .attr('fill','none');


    }
var createElements1 = function (svg, nodes, elementRadius) {
        element = svg.selectAll('text')
                .data(nodes)
                .enter().append('text')
                .attr('r', elementRadius)
                .attr('x', function (d, i) {

                    return d.x;
                })
                .attr('y', function (d, i) {
                    return d.y;
                })
                .attr("transform", 'rotate(90)')
                .attr('stroke', function (d) {
                    return d.color;
                })
                .attr('fill', 'none')
                .text(function (d, i) {
                    return d.text;
                })


    }

    var createSvg = function (radius, callback) {
        var svg = d3.selectAll('g.main').append('g').attr('class', 'cat1');
        callback(svg);
    }


    var createNodesa = function (numNodes, radius, catdata, catcolor) {
        var nodes = [],
                text,
                color,
                angle, degtorad,
                x,
                y, degree,
                startangle = -180,
                i;
        for (i = 0; i < numNodes; i++) {

            degree = startangle + (90 * i);

            degtorad = (Math.PI / 180 * degree)
            angle = degtorad; // Calculate the angle at which the element will be placed.
            //angle = (i * 2* Math.PI/numNodes); // Calculate the angle at which the element will be placed.
            // For a semicircle, we would use (i / numNodes) * Math.PI.
            x = (radius * Math.cos(angle)); // Calculate the x position of the element.
            y = -1 * (radius * Math.sin(angle)); // Calculate the y position of the element.
            console.log(angle * 180 / Math.PI, x, y, i, angle, degree, degtorad);
            text = catdata[i];
            color = catcolor[i];
            nodes.push({'id': i, 'x': x, 'y': y, 'text': text, 'color': color});
        }
        nodes1 = nodes;
        console.log(nodes)
        return nodes;
    }

    var a_draw = function () {
        var numNodes = a_data.length;
        var radius = o_radius + radiusincrease ;
        var catcolor = a_color;
        var catdata = a_data;
        var nodes = createNodesa(numNodes, radius, catdata, catcolor);
        createSvg(radius, function (svg) {
            createElements(svg, nodes, 15);
        });

    }

    a_draw();



</script>