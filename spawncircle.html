<!DOCTYPE html>
<meta charset="utf-8">
<style>

    body {
        font: 10px sans-serif;
    }

    .my {
        fill: red;
        stroke: #000;

    }
</style>
<body>
<script src="d3.js"></script>
<script>


    var data,companies;
d3.json('spawncircle/data/data.json', function(json) {
       data =json;

d3.json('spawncircle/data/companies.json', function(json) {

    companies=json;


    var rectangleData = [
        {"rx": 110, "ry": 110, "height": 30, "width": 30, "color": "blue"},
        {"rx": 160, "ry": 160, "height": 30, "width": 30, "color": "red"}];

    var width = 1200;
    var height = 800;

    var originX = 300;
    var originY = 300;
    var innerCircleRadius = 40;
    var outerCircleRadius = 200;

    var svgContainer = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

    var svgwindow = svgContainer.append('rect').attr({
        x:0,
        y:0,
        width:width,
        height:height,
        stroke:'red',
        fill:'none'
    });

    var innerCircle = svgContainer.append("circle").attr({
        cx: originX,
        cy: originY,
        r: innerCircleRadius,
        fill: "white",
        stroke: "black"
    });


    var outerCircle = svgContainer.append("circle").attr({
        cx: originX,
        cy: originY,
        r: outerCircleRadius,
        fill: "none",
        stroke: "black"
    });




    var chairOriginX = originX + ((outerCircleRadius) * Math.sin(0));
    var chairOriginY = originY - ((outerCircleRadius) * Math.cos(0));

    var circleGroup = svgContainer.append("g");

    var circles = circleGroup.selectAll('circle')
            .data(data)
            .enter()
            .append('circle')

    var smallradius=5;
    var circleAttributes = circles.attr("cx", function (d) {
        return chairOriginX;
    })
            .attr("cy", function (d) {
                return chairOriginY;
            })
            .attr("r", function (d, i) {
                return smallradius;
            })
            .attr('data-index',function (d, i) {return i;})
            .style("fill", 'black')
            .attr('transform', function (d, i) {

                return 'rotate(' + (360/(data.length) * i) + ', '+originX+','+ originY+')';
            });

 var circleGroup1 = svgContainer.append("g")
         .attr('class','my')
         .attr("transform", "translate(80,0)");

//    var outerCircle = circleGroup1.append("circle").attr({
//        cx: originX,
//        cy: originY,
//        r: outerCircleRadius,
//        fill: "none",
//        stroke: "red"
//    });

        var circles1 = circleGroup1.selectAll('g.my')
            .data(data)
            .enter()
            .append('g')
            .attr('class','my1')


      var circles2 = circles1.selectAll('g.my1')
            .data(data)
            .enter()
              .append('g')
              .attr('class','my2')

    var circles3 = circles2.selectAll('g.my1')
            .data(data)
            .enter()
              .append('circle')

        var smallradius=15;
    var circleAttributes1 = circles3
            .attr("cx", function (d,i) {


        return chairOriginX;
    })
            .attr("cy", function (d) {
                return chairOriginY;
            })
            .attr("r", function (d, i) {
                return smallradius;
            })
            .attr('data-index',function (d, i) {return i;})
            .style("fill", 'none')
            .style('stroke','red')
            .attr('transform', function (d, i) {

                return 'rotate(' + (360/(data.length) * i) + ', '+originX+','+ originY+')';
            });


 var text = circles2.selectAll('g.my1')
            .data(data)
            .enter()
              .append('text')

            text.attr("x", function (d,i) {return chairOriginX; })
                .attr("y",function (d) {
                return chairOriginY;
            })
	            .text('a')
            .attr("font-family", "sans-serif")
                .attr("font-size", "20px")
                 .attr("fill", "red")
            .attr('transform', function (d, i) {

                return 'rotate(' + (360/(data.length) * i) + ', '+originX+','+ originY+')';
            });


});
});


</script>

