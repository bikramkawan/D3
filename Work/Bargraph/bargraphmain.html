
<head>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
     <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body>

  <div id="myDiv" style="width: 480px; height: 400px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    <!-- JAVASCRIPT CODE GOES HERE -->
  </script>

<script>
      $(document).ready(function () {

        function splitValue(value, index) {
    return value.substring(0, index);
}



        // Plot for 1 % Impact  //
        Plotly.d3.json("data.json", function (data) {

console.log(data)
            var countries =[];
            var year_12 =[];
            var year_13=[];
            var year_14=[];
            var year_15=[];
            var bargraph=[];
            data.forEach(function (d,i) {
                countries.push(d.Country);
                   year_12.push(d['2012'])
                year_13.push(d['2013']);
                year_14.push(d['2014']);
                year_15.push(d['2015']);

                bargraph.push({x: ['2012', '2013', '2014','2015'],
  y: [d['2012'], d['2013'], d['2014'],d['2015']],
  name: (d.Country),
  type: 'bar'

                })
            })


console.log(bargraph)



var data = bargraph;

var layout = {barmode: 'group',barmode: 'group',
  bargap: 0.5,
  bargroupgap: 0.1};

Plotly.newPlot('myDiv', data, layout);

// var trace1 = {
//  x: [20, 14, 23],
//  y: ['giraffes', 'orangutans', 'monkeys'],
//  name: 'SF Zoo',
//  orientation: 'h',
//  marker: {
//    color: 'rgba(55,128,191,0.6)',
//    width: 1
//  },
//  type: 'bar'
//};
//
//var trace2 = {
//  x: [12, 18, 29],
//  y: ['giraffes', 'orangutans', 'monkeys'],
//  name: 'LA Zoo',
//  orientation: 'h',
//  type: 'bar',
//  marker: {
//    color: 'rgba(255,153,51,0.6)',
//    width: 1
//  }
//};
//
//var data = [trace1, trace2];
//
//var layout = {
//  title: 'Colored Bar Chart',
//  barmode: 'group',barmode: 'group',
//  bargap: 0.5,
// bargroupgap: 0.1
//};

//Plotly.newPlot('myDiv', data, layout);

            });
               });
</script>
</body>